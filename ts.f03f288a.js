parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"jAOL":[function(require,module,exports) {
"use strict";var e,o;Object.defineProperty(exports,"__esModule",{value:!0}),exports.EFigureType=exports.EColor=void 0,function(e){e.Black="b",e.White="w"}(e=exports.EColor||(exports.EColor={})),function(e){e.Pawn="p",e.Rook="r",e.Bishop="b",e.Knight="n",e.Queen="q",e.King="k"}(o=exports.EFigureType||(exports.EFigureType={}));
},{}],"uHbg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./figureInterface"),t=function(){function t(t){this.color=t,this.name=e.EFigureType.King,this.moveVectors=[[[-1,-1]],[[-1,0]],[[-1,1]],[[0,-1]],[[0,0]],[[0,1]],[[1,-1]],[[1,0]],[[1,1]]],this.attackVectors=this.moveVectors,this.isMoved=!1}return t.prototype.move=function(){this.isMoved=!0},t.prototype.setAsUnmoved=function(){this.isMoved=!1},t}();exports.default=t;
},{"./figureInterface":"jAOL"}],"BxVo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./figureInterface"),t=function(){function t(t){this.color=t,this.name=e.EFigureType.Knight,this.moveVectors=[[[-2,-1]],[[-2,1]],[[-1,2]],[[-1,-2]],[[1,2]],[[1,-2]],[[2,-1]],[[2,1]]],this.attackVectors=this.moveVectors,this.isMoved=!1}return t.prototype.move=function(){this.isMoved=!0},t.prototype.setAsUnmoved=function(){this.isMoved=!1},t}();exports.default=t;
},{"./figureInterface":"jAOL"}],"vqyl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("./figureInterface"),e=function(){function e(e){this.color=e,this.name=t.EFigureType.Pawn;var o=this.color===t.EColor.White?1:-1;this.moveVectors=[[[0,1*o],[0,2*o]]],this.attackVectors=[[[1,o]],[[-1,o]]],this.isMoved=!1}return e.prototype.move=function(){this.isMoved=!0;var e=this.color===t.EColor.White?1:-1;this.moveVectors=[[[0,1*e]]]},e.prototype.setAsUnmoved=function(){this.isMoved=!1;var e=this.color===t.EColor.White?1:-1;this.moveVectors=[[[0,1*e],[0,2*e]]]},e}();exports.default=e;
},{"./figureInterface":"jAOL"}],"OOdf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./figureInterface"),t=function(){function t(t){this.color=t,this.name=e.EFigureType.Rook,this.moveVectors=[[[1,0],[2,0],[3,0],[4,0],[5,0],[6,0],[7,0]],[[-1,0],[-2,0],[-3,0],[-4,0],[-5,0],[-6,0],[-7,0]],[[0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[0,7]],[[0,-1],[0,-2],[0,-3],[0,-4],[0,-5],[0,-6],[0,-7]]],this.attackVectors=this.moveVectors,this.isMoved=!1}return t.prototype.move=function(){this.isMoved=!0},t.prototype.setAsUnmoved=function(){this.isMoved=!1},t}();exports.default=t;
},{"./figureInterface":"jAOL"}],"pus6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./figureInterface"),t=function(){function t(t){this.color=t,this.name=e.EFigureType.Bishop,this.moveVectors=[[[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7]],[[-1,1],[-2,2],[-3,3],[-4,4],[-5,5],[-6,6],[-7,7]],[[-1,-1],[-2,-2],[-3,-3],[-4,-4],[-5,-5],[-6,-6],[-7,-7]],[[1,-1],[2,-2],[3,-3],[4,-4],[5,-5],[6,-6],[7,-7]]],this.attackVectors=this.moveVectors,this.isMoved=!1}return t.prototype.move=function(){this.isMoved=!0},t.prototype.setAsUnmoved=function(){this.isMoved=!1},t}();exports.default=t;
},{"./figureInterface":"jAOL"}],"JKJn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("./figureInterface"),t=function(){function t(t){this.color=t,this.name=e.EFigureType.Queen,this.moveVectors=[[[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7]],[[-1,1],[-2,2],[-3,3],[-4,4],[-5,5],[-6,6],[-7,7]],[[-1,-1],[-2,-2],[-3,-3],[-4,-4],[-5,-5],[-6,-6],[-7,-7]],[[1,-1],[2,-2],[3,-3],[4,-4],[5,-5],[6,-6],[7,-7]],[[1,0],[2,0],[3,0],[4,0],[5,0],[6,0],[7,0]],[[-1,0],[-2,0],[-3,0],[-4,0],[-5,0],[-6,0],[-7,0]],[[0,1],[0,2],[0,3],[0,4],[0,5],[0,6],[0,7]],[[0,-1],[0,-2],[0,-3],[0,-4],[0,-5],[0,-6],[0,-7]]],this.attackVectors=this.moveVectors,this.isMoved=!1}return t.prototype.move=function(){this.isMoved=!0},t.prototype.setAsUnmoved=function(){this.isMoved=!1},t}();exports.default=t;
},{"./figureInterface":"jAOL"}],"UWbA":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueenModel=exports.BishopModel=exports.RookModel=exports.PawnModel=exports.KnightModel=exports.KingModel=void 0;var o=e(require("./kingModel"));exports.KingModel=o.default;var r=e(require("./knightModel"));exports.KnightModel=r.default;var t=e(require("./pawnModel"));exports.PawnModel=t.default;var d=e(require("./rookModel"));exports.RookModel=d.default;var l=e(require("./bishopModel"));exports.BishopModel=l.default;var u=e(require("./queenModel"));exports.QueenModel=u.default;
},{"./kingModel":"uHbg","./knightModel":"BxVo","./pawnModel":"vqyl","./rookModel":"OOdf","./bishopModel":"pus6","./queenModel":"JKJn"}],"Ww8h":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var o=Array(e),n=0;for(t=0;t<r;t++)for(var i=arguments[t],s=0,a=i.length;s<a;s++,n++)o[n]=i[s];return o};Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./pieces/figureInterface"),o=require("./pieces/index"),n=function(){function n(){this.board=this.setBoard()}return n.prototype.move=function(e,t){var r=this.get(e);r&&r.move(),this.set(t,r),this.resetField(e)},n.prototype.get=function(e){return this.board[8-e[1]][e[0]-1]},n.prototype.set=function(e,t){this.board[8-e[1]][e[0]-1]=t},n.prototype.resetField=function(e){this.set(e,null)},n.prototype.possibleMovesFor=function(e){var t=this,r=[],o=this.get(e);return null===o?r:(o.moveVectors.forEach(function(n){for(var i=0;i<n.length;){var s=n[i],a=e[0]+s[0];if(a<1||a>8)break;var u=e[1]+s[1];if(u<1||u>8)break;var l=[a,u];if(null!==t.get(l))break;if(!t.simulateMove(o.color,e,l))break;r.push([a,u]),i+=1}}),r)},n.prototype.possibleAttacksFor=function(e,t){var r=this,o=[],n=this.get(e);if(null===n)return o;if(n.attackVectors.forEach(function(t){for(var i=0;i<t.length;){var s=t[i],a=e[0]+s[0];if(a<1||a>8)break;var u=e[1]+s[1];if(u<1||u>8)break;var l=[a,u],f=r.get(l);if(null!==f){f.color!==n.color&&o.push([a,u]);break}i+=1}}),t){var i=t.isEnPassantPossible(n,e,this.deepCopy());i.length>0&&o.push(i[0])}return o},n.prototype.setBoard=function(){return t([this.setFirstLine(r.EColor.Black),this.setPawns(r.EColor.Black)],Array.from({length:4},function(e){return Array(8).fill(null)}),[this.setPawns(r.EColor.White),this.setFirstLine(r.EColor.White)])},n.prototype.setPawns=function(e){return t(new Array(8)).map(function(t){return new o.PawnModel(e)})},n.prototype.setFirstLine=function(e){return[new o.RookModel(e),new o.KnightModel(e),new o.BishopModel(e),new o.QueenModel(e),e===r.EColor.White?new o.KingModel(r.EColor.White):new o.KingModel(r.EColor.Black),new o.BishopModel(e),new o.KnightModel(e),new o.RookModel(e)]},n.prototype.deepCopy=function(){var e=new n;return e.board=[],this.board.forEach(function(t){var r=[];t.forEach(function(e){if(e){var t=Object.assign(Object.create(Object.getPrototypeOf(e)),e);r.push(t)}else r.push(null)}),e.board.push(r)}),e},n.prototype.isCheck=function(e){for(var t=1;t<=8;t++)for(var o=1;o<=8;o++){var n=[o,t],i=this.get(n);if(i&&i.color!==e)for(var s=this.possibleAttacksFor(n),a=0;a<s.length;a++){var u=this.get(s[a]);if(u.name===r.EFigureType.King&&u.color===e)return!0}}return!1},n.prototype.isCheckMate=function(t){var r=this;if(!this.isCheck(t))return!1;for(var o=1;o<=8;o++)for(var n=function(e){var n=[e,o],s=i.get(n);if(s&&s.color===t){var a=i.possibleAttacksFor(n);if((a=a.filter(function(e){return r.simulateMove(t,n,e)})).length>0)return{value:!1};if(i.possibleMovesFor(n).length>0)return{value:!1}}},i=this,s=1;s<=8;s++){var a=n(s);if("object"===e(a))return a.value}return console.log("CHECK MATE!"),!0},n.prototype.simulateMove=function(e,t,r){var o=this.deepCopy();return o.move(t,r),!o.isCheck(e)},n}();exports.default=n;
},{"./pieces/figureInterface":"jAOL","./pieces/index":"UWbA"}],"ldsO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../pieces/figureInterface"),i=function(){function i(e,i){this.color=e,this.isKingSide=i}return i.prototype.printMove=function(){return(this.color===e.EColor.White?"White":"Black")+" did "+(this.isKingSide?"King Side":"Queen Side")+" Castling!"},i.prototype.revert=function(i,t){var s=this.color===e.EColor.White?1:8,o=this.isKingSide?[7,s]:[2,s],r=this.isKingSide?[6,s]:[3,s],n=[5,s],d=this.isKingSide?[8,s]:[1,s],u=i.get(o),c=i.get(r);t.move(o,n,u),u.setAsUnmoved(),i.set(n,u),i.resetField(o),i.set(d,c),i.resetField(r),t.move(r,d,c),c.setAsUnmoved()},i}();exports.default=i;
},{"../pieces/figureInterface":"jAOL"}],"F1MZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../pieces/figureInterface"),t=function(){function t(e,t,i,o,r,s){this.moveFor=e,this.movedFigure=t,this.from=i,this.to=o,this.wasMovedFigureUnmoved=t.isMoved,r&&(this.attacked=r,this.wasAttackedFigureUnmoved=r.isMoved),s&&(this.enemyField=s)}return t.prototype.printMove=function(){var t=this.movedFigure.color===e.EColor.White?"White":"Black",i="";switch(this.movedFigure.name){case e.EFigureType.Pawn:i="Pawn";break;case e.EFigureType.Rook:i="Rook";break;case e.EFigureType.Knight:i="Knight";break;case e.EFigureType.Bishop:i="Bishop";break;case e.EFigureType.Queen:i="Queen";break;case e.EFigureType.King:i="King"}var o=t+" "+i+" moved from "+this.fieldToHumanNotation(this.from)+" to "+this.fieldToHumanNotation(this.to)+"!";if(this.attacked){var r=this.attacked.color===e.EColor.White?"White":"Black",s="";switch(this.attacked.name){case e.EFigureType.Pawn:s="Pawn";break;case e.EFigureType.Rook:s="Rook";break;case e.EFigureType.Knight:s="Knight";break;case e.EFigureType.Bishop:s="Bishop";break;case e.EFigureType.Queen:s="Queen";break;case e.EFigureType.King:s="King"}o+=" And destroyed "+r+" "+s+"!"}return o},t.prototype.revert=function(t,i){var o,r;this.wasMovedFigureUnmoved||this.movedFigure.setAsUnmoved(),t.set(this.from,this.movedFigure),t.resetField(this.to),i.move(this.to,this.from,this.movedFigure),this.attacked&&(this.wasAttackedFigureUnmoved||this.attacked.setAsUnmoved(),this.enemyField?(t.set(this.enemyField,this.attacked),i.setFigureOnField(this.enemyField,this.attacked),t.set(this.to,null)):(t.set(this.to,this.attacked),i.setFigureOnField(this.to,this.attacked)));var s,a,n,h=(null===(o=this.attacked)||void 0===o?void 0:o.color)===e.EColor.Black?"last-of-type":"first-of-type",u=null===(r=this.attacked)||void 0===r?void 0:r.name;if(u){var d=(s=e.EFigureType,a=u,(n=Object.keys(s).filter(function(e){return s[e]==a})).length>0?n[0]:""),c=document.querySelectorAll(".stage:"+h+" > .game__stage>.figures__list > ."+d+":not(."+u+")"),g=Array.from(c),l=g[g.length-1];l.style.filter="invert(0.5)",l.classList.add(""+u)}},t.prototype.fieldToHumanNotation=function(e){return""+String.fromCharCode(65+e[0]-1)+e[1]},t.prototype.getLastMove=function(){return{from:this.from,to:this.to,moveFor:this.moveFor}},t}();exports.default=t;
},{"../pieces/figureInterface":"jAOL"}],"vJem":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../Models/pieces/figureInterface"),t=function(){function t(e){this.id=e}return t.prototype.init=function(e,t,i){var r=document.createElement("div"),a=document.createElement("div");a.classList.add("time"),a.innerText="00:00 min";var s=document.createElement("div"),n=document.createElement("div");n.classList.add("game__stage"),s.classList.add("figures__list"),this.createFigure("Pawn",8,t,s),this.createFigure("Bishop",2,t,s),this.createFigure("Knight",2,t,s),this.createFigure("Rook",2,t,s),this.createFigure("Queen",1,t,s),r.classList.add("player__name"),r.innerText=i,r.id=this.id,e.appendChild(n),n.appendChild(r),n.appendChild(s),e.appendChild(a)},t.prototype.getFigureImage=function(e){var t=document.createElement("img"),i=e.color+e.name;return t.setAttribute("src","./static/assets/pieces/kosal/"+i+".svg"),t.setAttribute("alt",e.color+" "+e.name),t.classList.add("chessboard__figure__stage"),t},t.prototype.createFigure=function(t,i,r,a){for(var s=0;s<i;s++){var n={color:r,name:e.EFigureType[t]},d=this.getFigureImage(n);d.classList.add(e.EFigureType[t].toLowerCase()),d.classList.add(t+""),a.appendChild(d)}},t}();exports.default=t;
},{"../Models/pieces/figureInterface":"jAOL"}],"f7IB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e){this.parent=e}return e.prototype.createElement=function(e,t){var n=document.createElement(e);return t&&n.classList.add(t),n},e.prototype.createMenuWraper=function(e){var t=this.createElement("div","menu");this.createMenuBackground(t),this.createBtnBox(t),e.appendChild(t)},e.prototype.createMenuBackground=function(e){var t=this.createElement("div","menu__background");this.createSettingPlayers(t),this.createSettingBox(t),e.appendChild(t)},e.prototype.createBtnBox=function(e){var t=this.createElement("div","menu__button"),n=this.createElement("button","menu__button--start");n.setAttribute("id","menu__button--start"),n.innerText="START THE GAME",t.append(n),e.appendChild(t)},e.prototype.createSettingPlayers=function(e){var t=this.createElement("div","setting__players"),n=this.createElement("div","setting__players--text");n.innerText="PLAYERS SETTING",t.appendChild(n);var i=this.createElement("div","setting__players--box"),r=this.createElement("div","setting__players--text");r.innerText="PLAYERS NAMES";var a=this.createElement("div","setting__players--players"),s=this.createElement("div","players--one_player"),p=this.createElement("div","white_player");p.innerText="Black | Player's name";var d=this.createElement("input","insert__name");d.setAttribute("type","text"),d.setAttribute("maxlength","20"),d.setAttribute("pattern","[a-zA-Z0-9]{3,20}"),s.append(p,d),d.addEventListener("change",function(){document.getElementById("first__player").innerText=d.value});var c=this.createElement("div","players--one_player"),l=this.createElement("div","black_player");l.innerText="White | Player's name";var o=this.createElement("input","insert__name");o.setAttribute("type","text"),o.setAttribute("maxlength","20"),o.setAttribute("pattern","[a-zA-Z0-9]{3,20}"),c.append(l,o),o.addEventListener("change",function(){document.getElementById("second__player").innerText=o.value}),a.append(s,c),i.append(r,a),t.appendChild(i),this.createRadio(t),e.appendChild(t)},e.prototype.createRadio=function(e){var t=this.createElement("form","setting__players--form_checkbox"),n=this.createElement("input");n.setAttribute("type","checkbox"),n.setAttribute("id","possible move"),n.setAttribute("name","possible move");var i=this.createElement("span","checkmark"),r=this.createElement("label","checkbox");r.setAttribute("for","possible move"),r.innerText="Show possible moves",r.append(n,i),t.append(r),e.appendChild(t)},e.prototype.createSettingBox=function(e){var t=this.createElement("div","setting__box");this.createSettingGame(t),this.createTimeGame(t),e.appendChild(t)},e.prototype.createSettingGame=function(e){var t=this.createElement("div","setting--game"),n=this.createElement("div","setting__game--text");n.innerText="GAME SETTINGS",t.append(n),e.appendChild(t)},e.prototype.createTimeGame=function(e){var t=this.createElement("div","setting--tame");t.innerText="GAME TIME";var n=this.createElement("span");n.innerText="(IN MINUTES)",t.appendChild(n);var i=this.createElement("div","setting--slider"),r=this.createElement("input","slider__range");r.setAttribute("type","range"),r.setAttribute("name","range_time"),r.setAttribute("min","2"),r.setAttribute("max","15"),r.setAttribute("step","1"),r.setAttribute("value","5"),r.setAttribute("id","range");var a=this.createElement("output");a.setAttribute("id","range_display"),a.setAttribute("name","range_display"),a.setAttribute("for","range_time"),a.textContent="Game time is: "+r.getAttribute("value")+" minutes",i.append(r,a),e.append(t,i)},e.prototype.createAddEventListner=function(){var e=this,t=document.getElementById("range");t.addEventListener("input",function(){e.addTime()}),t.addEventListener("change",function(){e.addTime()})},e.prototype.addTime=function(){var e=document.getElementById("range").value;document.getElementById("range_display").innerText="Game time is: "+e+" minutes"},e.prototype.display=function(){this.createMenuWraper(this.parent),this.createAddEventListner()},e}();exports.default=e;
},{}],"WW8W":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./menu")),a=function(){function e(){}return e.prototype.init=function(e){var t=this.createElement("div","tab__container");e.appendChild(t),this.createNavigation(t),this.createTabs(t)},e.prototype.createElement=function(e,t){var a=document.createElement(e);return t&&a.classList.add(t),a},e.prototype.createNavigation=function(e){var t=this.createElement("ul","nav");t.id="nav__tab";var a=this.createElement("li");a.addEventListener("click",function(e){var t=document.getElementById("moves");document.querySelectorAll(".active").forEach(function(e){e.className=e.className.replace("active","")}),null==t||t.classList.add("active"),document.querySelectorAll(".clicked").forEach(function(e){e.className=e.className.replace("clicked","")}),a.classList.add("clicked")});var i=this.createElement("a");i.setAttribute("href","#moves"),i.innerText="Moves";var n=this.createElement("li","active");n.addEventListener("click",function(e){var t=document.getElementById("game");document.querySelectorAll(".active").forEach(function(e){e.className=e.className.replace("active","")}),null==t||t.classList.add("active"),document.querySelectorAll(".clicked").forEach(function(e){e.className=e.className.replace("clicked","")}),n.classList.add("clicked")});var c=this.createElement("a");c.setAttribute("href","#game"),c.innerText="Game",this.addIcons(a,n),e.appendChild(t),t.appendChild(a),t.appendChild(n),a.appendChild(i),n.appendChild(c)},e.prototype.createTabs=function(e){var a=this.createElement("div","tab__content"),i=this.createElement("div","tab__pane");i.id="moves";var n=this.createElement("div","tab__pane");n.classList.add("active"),n.id="game";var c=this.createElement("div","last__move__info");c.id="last__move__info";var s=this.createElement("div","undo__button__container");s.id="undo__button__container",a.appendChild(i),i.appendChild(c),i.appendChild(s),a.appendChild(n),e.appendChild(a),new t.default(n).display()},e.prototype.addIcons=function(e,t){var a=this.createElement("img");a.setAttribute("src","./static/assets/icons/moves_icon.svg"),e.appendChild(a);var i=this.createElement("img");i.setAttribute("src","./static/assets/icons/game_icon.svg"),t.appendChild(i)},e}();exports.default=a;
},{"./menu":"f7IB"}],"Xz1V":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=require("../Models/pieces/figureInterface"),s=e(require("./stageView")),i=e(require("./tabsView")),a=function(){function e(){}return e.prototype.init=function(e,a){var r=document.createElement("div");r.classList.add("chessboard");var o=document.createElement("div"),l=document.createElement("div"),d=document.createElement("div");o.classList.add("stage"),new s.default("first__player").init(o,t.EColor.White,"Player 1"),l.classList.add("stage"),d.classList.add("container");var n=document.createElement("div");n.classList.add("game__panel"),n.id="game__panel";var c=document.createElement("div");c.classList.add("settings__panel"),new s.default("second__player").init(l,t.EColor.Black,"Player 2");for(var u=0;u<8;u++)for(var p=function(e){var t=document.createElement("div");t.dataset.x=1+e+"",t.dataset.y=8-u+"",t.addEventListener("click",function(){var e=[parseInt(t.dataset.x),parseInt(t.dataset.y)];a(e)}),t.classList.add("chessboard__field"),r.appendChild(t)},f=0;f<8;f++)p(f);e.appendChild(d),d.appendChild(n),n.appendChild(o),n.appendChild(r),n.appendChild(l),d.appendChild(c),(new i.default).init(c)},e.prototype.setUpBoard=function(e){for(var t=1;t<=8;t++)for(var s=1;s<=8;s++){var i=[s,t],a=e.get(i),r=this.getField(i);if(this.resetField(i),a){var o=this.getFigureImage(a);r.appendChild(o)}}},e.prototype.getFigureImage=function(e){var t=document.createElement("img"),s=e.color+e.name;return t.setAttribute("src","./static/assets/pieces/kosal/"+s+".svg"),t.setAttribute("alt",e.color+" "+e.name),t.classList.add("chessboard__figure"),t},e.prototype.resetField=function(e){var t=this.getField(e);t.innerHTML="",t.classList.value="",t.classList.add("chessboard__field")},e.prototype.setFigureOnField=function(e,s,i){var a=this.getField(e);if(i){var r=this.getField(i);if(r.hasChildNodes()){var o=(n=r.children[0].attributes[0].value).slice(n.length-6,n.length-4)[1],l=s.color===t.EColor.White?"last-of-type":"first-of-type";(c=document.querySelector(".stage:"+l+" > .game__stage>.figures__list > .chessboard__figure__stage."+o)).style.filter="invert(0)",console.log(c),c.classList.remove(""+o)}var d=this.getFigureImage(s);a.innerHTML="",a.appendChild(d)}else{if(a.hasChildNodes()){var n,c;o=(n=a.children[0].attributes[0].value).slice(n.length-6,n.length-4)[1],l=s.color===t.EColor.White?"last-of-type":"first-of-type";(c=document.querySelector(".stage:"+l+" > .game__stage>.figures__list > .chessboard__figure__stage."+o)).style.filter="invert(0)",console.log(c),c.classList.remove(""+o)}d=this.getFigureImage(s);a.innerHTML="",a.appendChild(d)}},e.prototype.getField=function(e){return document.querySelector('[data-x="'+e[0]+'"][data-y="'+e[1]+'"]')},e.prototype.move=function(e,t,s,i){i?this.setFigureOnField(t,s,i):this.setFigureOnField(t,s),this.resetField(e),i&&this.resetField(i),this.resetStyles()},e.prototype.setAsPossibleToMove=function(e){var t=this.getField(e);document.getElementById("possible move").checked&&t.classList.add("chessboard__field--possible_move")},e.prototype.setAsPossibleToAttack=function(e){var t=this.getField(e);document.getElementById("possible move").checked&&t.classList.add("chessboard__field--possible_attack")},e.prototype.setAsSelected=function(e){this.getField(e).classList.add("chessboard__field--selected")},e.prototype.resetStyles=function(){document.querySelectorAll(".chessboard__field").forEach(function(e){e.classList.value="",e.classList.add("chessboard__field")})},e.prototype.timeDisplay=function(e,s){var i=s===t.EColor.White?3:1,a=document.querySelector(".stage:nth-child("+i+") > .time"),r=Math.floor(e/60),o=e%60,l=function(e){return 1===(""+e).length?"0"+e:e.toString()};a.innerHTML=l(r)+":"+l(o)+" min"},e.prototype.getStartTime=function(e){document.querySelector(".time").innerHTML=e+""},e}();exports.default=a;
},{"../Models/pieces/figureInterface":"jAOL","./stageView":"vJem","./tabsView":"WW8W"}],"mYQL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MoveSaver=void 0;var e=require("../Models/pieces/figureInterface"),t=function(){function t(){this.moves=[]}return t.prototype.canUndoMove=function(){return this.moves.length>0},t.prototype.addMove=function(e){this.moves.push(e)},t.prototype.addCastling=function(e){this.moves.push(e)},t.prototype.revertLastMove=function(e,t){var o=this.moves.pop();o&&o.revert(e,t)},t.prototype.reset=function(){this.moves=[]},t.prototype.isEnPassantPossible=function(t,o,r){var s=[],i=[];if(!(t.name===e.EFigureType.Pawn))return s;var u=o[0],n=o[1],p=[u-1,n],v=[u+1,n],h=r.get(p),a=r.get(v),f=(null==h?void 0:h.name)===e.EFigureType.Pawn,l=(null==a?void 0:a.name)===e.EFigureType.Pawn;if(this.moves.length<1)return s;var m=this.moves[this.moves.length-1];if(m.getLastMove)if(f){var c=m.getLastMove(),g=c.from,d=c.to;if((E=c.moveFor)===e.EColor.Black){var y=d[0]===p[0]&&d[1]===p[1],M=g[0]===p[0]&&g[1]===p[1]+2;if(y&&M)return i.push(u-1),i.push(n+1),s.push(i),s.push("lb"),s}else if(E===e.EColor.White){y=d[0]===p[0]&&d[1]===p[1],M=g[0]===p[0]&&g[1]===p[1]-2;if(y&&M)return i.push(u-1),i.push(n-1),s.push(i),s.push("lw"),s}}else if(l){var E,P=m.getLastMove();g=P.from,d=P.to;if((E=P.moveFor)===e.EColor.Black){y=d[0]===v[0]&&d[1]===v[1],M=g[0]===v[0]&&g[1]===v[1]+2;if(y&&M)return i.push(u+1),i.push(n+1),s.push(i),s.push("rb"),s}else if(E===e.EColor.White){y=d[0]===v[0]&&d[1]===v[1],M=g[0]===v[0]&&g[1]===v[1]-2;if(y&&M)return i.push(u+1),i.push(n-1),s.push(i),s.push("rw"),s}}return s},t}();exports.MoveSaver=t;
},{"../Models/pieces/figureInterface":"jAOL"}],"xco7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(){}return e.prototype.init=function(e){var t=document.getElementById("last__move__info"),n=document.createElement("div");(t.appendChild(n),n.classList.add("info"),n.innerHTML=e,document.querySelector("#last__move__info").childElementCount>6)&&document.querySelector("#last__move__info> .info:first-child").remove()},e}();exports.default=e;
},{}],"b37H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t){this.parent=t}return t.prototype.createElement=function(t,e){var n=document.createElement(t);return e&&n.classList.add(e),n},t.prototype.createWiner=function(t){var e=this.createElement("div","buttonBox"),n=this.createElement("button","buttonBox__reset");n.setAttribute("id","buttonBox__reset");var r=this.createElement("div","buttonBox__text");r.innerText="The winer is: "+t+"!";var o=this.createElement("button","buttonBox__text--reset");o.innerText="PLAY AGAIN",o.setAttribute("id","buttonBox__text--reset"),r.appendChild(o),e.appendChild(n),this.parent.append(e,r),this.createBtnListener()},t.prototype.createBtnListener=function(){var t=document.getElementById("buttonBox__reset"),e=document.getElementById("buttonBox__text--reset");null==t||t.addEventListener("click",function(){location.reload()}),null==e||e.addEventListener("click",function(){location.reload()})},t}();exports.default=t;
},{}],"dAdP":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../Models/boardModel")),i=require("../Models/pieces/figureInterface"),o=e(require("../Models/savesModels/saveOfCastling")),r=e(require("../Models/savesModels/saveOfMove")),s=e(require("../Views/boardView")),a=require("./moveSaver"),l=e(require("../Views/movesList")),n=e(require("../Views/endGameView")),v=function(){function e(e){var t=this;this.clickOnField=function(e){t.selectedField?t.figureAlreadySelected(e,t.selectedField):t.figureNotSelected(e)},this.updateTime=function(){if(t.moveFor===i.EColor.White){if(t.timeLeftForWhite-=1,t.timeLeftForWhite<=0)return void t.gameOver(i.EColor.Black);t.view.timeDisplay(t.timeLeftForWhite,t.moveFor)}else{if(t.timeLeftForBlack-=1,t.timeLeftForBlack<=0)return void t.gameOver(i.EColor.White);t.view.timeDisplay(t.timeLeftForBlack,t.moveFor)}},this.undoMove=function(){t.moveSaver.canUndoMove()&&(t.moveSaver.revertLastMove(t.board,t.view),t.moveFor=t.moveFor===i.EColor.White?i.EColor.Black:i.EColor.White,t.resetSelectedFigure())},this.view=new s.default,this.view.init(e,this.clickOnField),this.moveSaver=new a.MoveSaver}return e.prototype.newGame=function(e){this.moveFor=i.EColor.White,this.selectedField=null,this.movesForSelected=[],this.attacksForSelected=[],this.timeLeftForWhite=e,this.timeLeftForBlack=e,this.moveSaver.reset(),this.board=new t.default,this.setUpBoard(this.board),this.setUpTimer(),console.log("NEW GAME STARTS")},e.prototype.addEventListenerToButton=function(){var e=this;this.view.timeDisplay(300,i.EColor.White),this.view.timeDisplay(300,i.EColor.Black);var t=document.getElementById("menu__button--start"),o=document.getElementById("range");t.addEventListener("click",function(t){e.stopTimer();var o=parseInt(document.getElementById("range").value);e.view.timeDisplay(60*o,i.EColor.White),e.view.timeDisplay(60*o,i.EColor.Black),e.newGame(60*o),e.view.timeDisplay(60*o,i.EColor.White),e.view.timeDisplay(60*o,i.EColor.Black)}),null==o||o.addEventListener("change",function(o){var r=parseInt(document.getElementById("range").value);e.view.timeDisplay(60*r,i.EColor.White),e.view.timeDisplay(60*r,i.EColor.Black),t.addEventListener("click",function(t){r&&0!==r||(r=5),e.view.timeDisplay(60*r,i.EColor.White),e.view.timeDisplay(60*r,i.EColor.Black)})})},e.prototype.isFieldOnList=function(e,t){return!t.every(function(t){return t[0]!==e[0]||t[1]!==e[1]})},e.prototype.selectNewFigure=function(e){var t=this;if(this.view.resetStyles(),this.selectedField=e,this.movesForSelected=this.board.possibleMovesFor(this.selectedField),this.attacksForSelected=this.board.possibleAttacksFor(this.selectedField,this.moveSaver),this.attacksForSelected=this.attacksForSelected.filter(function(i){return t.board.simulateMove(t.moveFor,e,i)}),this.view.setAsSelected(e),this.board.get(e).name===i.EFigureType.King){var o=this.moveFor===i.EColor.White?1:8;this.canMakeCasting(this.moveFor,!0)&&this.movesForSelected.push([7,o]),this.canMakeCasting(this.moveFor,!1)&&this.movesForSelected.push([2,o])}this.movesForSelected.forEach(function(e){t.view.setAsPossibleToMove(e)}),this.attacksForSelected.forEach(function(e){t.view.setAsPossibleToAttack(e)})},e.prototype.resetSelectedFigure=function(){this.view.resetStyles(),this.selectedField=null,this.movesForSelected=[],this.attacksForSelected=[]},e.prototype.makeMove=function(e,t,i){var o=new r.default(i.color,i,e,t);this.moveSaver.addMove(o),this.view.move(e,t,i),this.board.move(e,t),console.log(o.printMove());var s=o.printMove();(new l.default).init(s),this.changeTurn()},e.prototype.makeAttack=function(e,t,o){var s=this.board.get(t),a=t;if(null===s){o.color===i.EColor.White?(a=[t[0],t[1]-1],s=this.board.get(a),this.board.resetField(a)):(a=[t[0],t[1]+1],s=this.board.get(a),this.board.resetField(a));var n=new r.default(o.color,o,e,t,s,a);this.moveSaver.addMove(n),this.view.move(e,t,o,a),this.board.move(e,t),this.board.resetField(a);var v=n.printMove();(new l.default).init(v),this.changeTurn()}else{n=new r.default(o.color,o,e,t,s);this.moveSaver.addMove(n),this.view.move(e,t,o),this.board.move(e,t);v=n.printMove();(new l.default).init(v),this.changeTurn()}},e.prototype.figureNotSelected=function(e){var t=this.board.get(e);t&&t.color===this.moveFor&&this.selectNewFigure(e)},e.prototype.figureAlreadySelected=function(e,t){var o=this.board.get(e),r=this.board.get(t);if(o&&r){if(o.color===r.color)return void this.selectNewFigure(e);this.isFieldOnList(e,this.attacksForSelected)&&this.makeAttack(t,e,r)}else if(r&&this.isFieldOnList(e,this.movesForSelected))if(r.name!==i.EFigureType.King||r.isMoved)this.makeMove(t,e,r);else{var s=this.moveFor===i.EColor.White?1:8;7===e[0]&&e[1]===s?this.makeCastling(this.moveFor,!0):2===e[0]&&e[1]===s?this.makeCastling(this.moveFor,!1):this.makeMove(t,e,r)}else r&&this.isFieldOnList(e,this.attacksForSelected)&&this.makeAttack(t,e,r);this.resetSelectedFigure()},e.prototype.makeCastling=function(e,t){var r=new o.default(e,t);this.moveSaver.addMove(r);var s=e===i.EColor.White?1:8,a=[5,s],n=t?[8,s]:[1,s],v=t?[7,s]:[2,s],h=t?[6,s]:[3,s],d=this.board.get(a),c=this.board.get(n);this.view.move(a,v,d),this.board.move(a,v),d.move(),this.view.move(n,h,c),this.board.move(n,h),c.move(),this.changeTurn();var u=r.printMove();(new l.default).init(u)},e.prototype.canMakeCasting=function(e,t){var o=e===i.EColor.White?1:8,r=this.board.get([5,o]);if(r&&!r.isMoved)if(t){if(this.board.get([6,o]))return!1;if(this.board.get([7,o]))return!1;if((s=this.board.get([8,o]))&&!s.isMoved)return!0}else{if(this.board.get([4,o]))return!1;if(this.board.get([3,o]))return!1;if(this.board.get([2,o]))return!1;var s;if((s=this.board.get([1,o]))&&!s.isMoved)return!0}return!1},e.prototype.setUpBoard=function(e){this.view.setUpBoard(e)},e.prototype.setUpTimer=function(){this.timer=setInterval(this.updateTime,1e3)},e.prototype.stopTimer=function(){clearInterval(this.timer)},e.prototype.changeTurn=function(){var e=this.moveFor===i.EColor.White?i.EColor.Black:i.EColor.White;this.board.isCheckMate(e)&&this.gameOver(this.moveFor),this.moveFor=e},e.prototype.gameOver=function(e){this.stopTimer();var t="";t="b"===e?"BLACK":"WHITE";var i=document.getElementById("root");new n.default(i).createWiner(t)},e}();exports.default=v;
},{"../Models/boardModel":"Ww8h","../Models/pieces/figureInterface":"jAOL","../Models/savesModels/saveOfCastling":"ldsO","../Models/savesModels/saveOfMove":"F1MZ","../Views/boardView":"Xz1V","./moveSaver":"mYQL","../Views/movesList":"xco7","../Views/endGameView":"b37H"}],"UwJ4":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./Controllers/boardController"));function n(){console.log("Start Chess App...");var e=document.getElementById("root"),n=new t.default(e),o=document.createElement("button");o.addEventListener("click",n.undoMove),o.addEventListener("click",function(){var e,t=null===(e=document.getElementById("last__move__info"))||void 0===e?void 0:e.lastChild;t&&t.remove()}),o.innerHTML="UNDO",o.classList.add("revert__button"),document.getElementById("undo__button__container").appendChild(o),n.addEventListenerToButton()}exports.default=n;
},{"./Controllers/boardController":"dAdP"}],"LQOA":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("./App/App"));t.default();
},{"./App/App":"UwJ4"}]},{},["LQOA"], null)
//# sourceMappingURL=ts.f03f288a.js.map